(()=>{"use strict";var e,t={457:()=>{const e=window.wp.blocks,t=window.wp.element,o=window.wp.blockEditor,l=window.wp.components;let n=null;const a={title:"BC Ticker",icon:"admin-page",category:"bc-theme",attributes:{sport:{type:"string",default:"football"},country:{type:"string",default:"44"},league:{type:"string",default:"152"},scrollamount:{type:"number",default:80},bgColor:{type:"string",default:"#000"},textColor:{type:"string",default:"#FFF"},fontSize:{type:"string",default:"12"},nextNumberOfDays:{type:"number",default:5}},edit:e=>(e=>{let{attributes:a,setAttributes:r}=e;const[u,s]=(0,t.useState)([]),[c,i]=(0,t.useState)([]),[p,b]=(0,t.useState)(""),m=(e,t)=>{clearTimeout(n),r({[e]:t}),n=setTimeout((()=>{r({debounce:[].concat(e)})}),700)};return(0,t.useEffect)((()=>{a.sport&&fetch(ajaxurl,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:`action=bc_get_countries&sport=${a.sport}`}).then((e=>e.json())).then((e=>{let t=JSON.parse(e.data);t=t.result.map((e=>({value:e.country_key,label:e.country_name}))),t.unshift({value:0,label:"Select Country"}),s(t)}))}),[a.sport]),(0,t.useEffect)((()=>{a.sport&&0!=a.country&&fetch(ajaxurl,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:`action=bc_get_leagues&sport=${a.sport}&country=${a.country}`}).then((e=>e.json())).then((e=>{let t=JSON.parse(e.data);t=t.result.map((e=>({value:e.league_key,label:e.league_name}))),t.unshift({value:0,label:"Select League"}),i(t)}))}),[a.country]),(0,t.useEffect)((()=>{fetch(ajaxurl,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:`action=bc_get_matches&sport=${a.sport}&country=${a.country}&league=${a.league}&scrollamount=${a.scrollamount}&bgColor=${a.bgColor}&fontSize=${a.fontSize}&textColor=${a.textColor}&nextNumberOfDays=${a.nextNumberOfDays}`}).then((e=>e.json())).then((e=>{b(e)}))}),[a.sport,a.country,a.league,a.debounce]),[(0,t.createElement)("div",{dangerouslySetInnerHTML:{__html:p}}),(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:"Date Settings",initialOpen:!0},(0,t.createElement)(l.SelectControl,{label:"Sport",value:a.sport,options:[{label:"Football",value:"football"},{label:"Basketball",value:"basketball"}],onChange:e=>r({sport:e}),__nextHasNoMarginBottom:!0}),a.sport&&(0,t.createElement)(l.SelectControl,{label:"Countries",value:a.country,options:u,onChange:e=>r({country:e})}),0!=a.country&&(0,t.createElement)(l.SelectControl,{label:"Leagues",value:a.league,options:c,onChange:e=>r({league:e})}),(0,t.createElement)(l.RangeControl,{label:"Show for next number of days:",value:a.nextNumberOfDays,min:1,max:14,onChange:e=>m("nextNumberOfDays",e)})),(0,t.createElement)(l.PanelBody,{title:"Slider Settings",initialOpen:!1},(0,t.createElement)(l.RangeControl,{label:"Slider Speed",value:a.scrollamount,onChange:e=>m("scrollamount",e),min:20,max:200}),(0,t.createElement)("p",null,"Font Size"),(0,t.createElement)(l.FontSizePicker,{value:a.fontSize,fontSizes:[{name:"Small",slug:"small",size:12},{name:"Big",slug:"big",size:26}],__nextHasNoMarginBottom:!0,fallbackFontSize:12,onChange:e=>m("fontSize",e)})),(0,t.createElement)(l.PanelBody,{title:"Color Settings",initialOpen:!1},(0,t.createElement)("p",null,"Background Color"),(0,t.createElement)(l.ColorPicker,{color:a.bgColor,onChange:e=>m("bgColor",e),enableAlpha:!0}),(0,t.createElement)("p",null,"Text Color"),(0,t.createElement)(l.ColorPicker,{color:a.textColor,onChange:e=>m("textColor",e),enableAlpha:!0})))]})(e)};(0,e.registerBlockType)("bc-theme/bc-ticker",a)}},o={};function l(e){var n=o[e];if(void 0!==n)return n.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,l),a.exports}l.m=t,e=[],l.O=(t,o,n,a)=>{if(!o){var r=1/0;for(i=0;i<e.length;i++){for(var[o,n,a]=e[i],u=!0,s=0;s<o.length;s++)(!1&a||r>=a)&&Object.keys(l.O).every((e=>l.O[e](o[s])))?o.splice(s--,1):(u=!1,a<r&&(r=a));if(u){e.splice(i--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[o,n,a]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};l.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[r,u,s]=o,c=0;if(r.some((t=>0!==e[t]))){for(n in u)l.o(u,n)&&(l.m[n]=u[n]);if(s)var i=s(l)}for(t&&t(o);c<r.length;c++)a=r[c],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(i)},o=globalThis.webpackChunkbc_ticker=globalThis.webpackChunkbc_ticker||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=l.O(void 0,[431],(()=>l(457)));n=l.O(n)})();